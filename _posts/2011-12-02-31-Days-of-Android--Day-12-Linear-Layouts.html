---
layout: post
title: "31 Days of Android: Day 12–Linear Layouts"
date: Fri Dec 02 2011 04:43:00 GMT-0800 (PST)
comments: true
status: publish
type: post
published: true
categories: [Android, Google, Mobile, Phone]
excerpt: "This is another tutorial in the 31 Days of Android series.  Today will start several days of focusing on user interfaces.  We'll kick things off with Linear Layout.  In addition we'll go over some of the common view attributes."
logoUrl: null
keywords: Android,31 days of Android,Google,Google Android,Android Intro,How to develop for android,linear layout,layout,vertical,horizontal,viewgroup,view,match_parent,wrap_content,Fill_parent,layout_width,Layout_height,gravity,layout_gravity,gravity vs layout_gravity,background,Tutorial
filepath: 2011-12-02-31-Days-of-Android--Day-12-Linear-Layouts.html
disqus_identifier: 31-Days-of-Android--Day-12–Linear-Layouts
redirect_from:
  - /2011-12-02-31-Days-of-Android--Day-12%E2%80%93Linear-Layouts/
  - /2011-12-02-31-Days-of-Android--Day-12–Linear-Layouts/
  - /31-Days-of-Android--Day-12–Linear-Layouts/
---
<p>So far in our <a title="31 Days of Android" href="http://chrisrisner.com/31-Days-of-Android">31 Days of Android series</a>, we really haven’t focused on the visual element of our applications at all.&#160; We’ve created some layouts and we’ve added a few UI controls, but we haven’t delved into it much.&#160; Starting today, we’re going to spend a few days talking about the different layouts and interface elements.&#160; You can use the <a title="Android Day Eleven Code" href="http://chrisrisner.com/upload/DayEleven.zip">code we left off with yesterday to start out with</a> (I’ll be referring to it with a DayTwelve instead of DayEleven today).</p>  <p>The first thing you should know is that all of the layout types (including the <strong>LinearLayout</strong>) as well as all of the user interface elements (<strong>TextView</strong>, <strong>EditText</strong>) descend from the <strong>View </strong>class.&#160; Layouts descends from a <strong>ViewGroup </strong>class which in turn descends from <strong>View</strong>.&#160; Being a <strong>ViewGroup</strong> means that it can contain other views.&#160; If you look at the <strong>main.xml</strong> file in the <strong>res/layout </strong>folder, you’ll see that the layout we’ve been working with so far has several Views contained in a ViewGroup, in this case a <strong>LinearLayout</strong>:</p>  <div class="csharpcode">   <pre class="alt"><span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">=&quot;1.0&quot;</span> <span class="attr">encoding</span><span class="kwrd">=&quot;utf-8&quot;</span>?<span class="kwrd">&gt;</span></pre>

  <pre><span class="kwrd">&lt;</span><span class="html">LinearLayout</span> <span class="attr">xmlns:android</span><span class="kwrd">=&quot;http://schemas.android.com/apk/res/android&quot;</span></pre>

  <pre class="alt">    <span class="attr">android:layout_width</span><span class="kwrd">=&quot;fill_parent&quot;</span></pre>

  <pre>    <span class="attr">android:layout_height</span><span class="kwrd">=&quot;fill_parent&quot;</span></pre>

  <pre class="alt">    <span class="attr">android:orientation</span><span class="kwrd">=&quot;vertical&quot;</span> <span class="kwrd">&gt;</span></pre>

  <pre>    <span class="kwrd">&lt;</span><span class="html">TextView</span></pre>

  <pre class="alt">        <span class="attr">android:id</span><span class="kwrd">=&quot;@+id/lblTextViewOne&quot;</span></pre>

  <pre>        <span class="attr">android:layout_width</span><span class="kwrd">=&quot;fill_parent&quot;</span></pre>

  <pre class="alt">        <span class="attr">android:layout_height</span><span class="kwrd">=&quot;wrap_content&quot;</span></pre>

  <pre>        <span class="attr">android:text</span><span class="kwrd">=&quot;@string/hello&quot;</span> <span class="kwrd">/&gt;</span></pre>

  <pre class="alt">    <span class="kwrd">&lt;</span><span class="html">EditText</span></pre>

  <pre>        <span class="attr">android:id</span><span class="kwrd">=&quot;@+id/editText1&quot;</span></pre>

  <pre class="alt">        <span class="attr">android:layout_width</span><span class="kwrd">=&quot;match_parent&quot;</span></pre>

  <pre>        <span class="attr">android:layout_height</span><span class="kwrd">=&quot;wrap_content&quot;</span> <span class="kwrd">&gt;</span></pre>

  <pre class="alt">        <span class="kwrd">&lt;</span><span class="html">requestFocus</span> <span class="kwrd">/&gt;</span></pre>

  <pre>    <span class="kwrd">&lt;/</span><span class="html">EditText</span><span class="kwrd">&gt;</span></pre>

  <pre class="alt">    ...</pre>

  <pre><span class="kwrd">&lt;/</span><span class="html">LinearLayout</span><span class="kwrd">&gt;</span></pre>
</div>
<style type="text/css">



.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }</style>

<p>Here there are only <strong>Views </strong>in the <strong>LinearLayout</strong> but there is nothing preventing you from putting other <strong>ViewGroups</strong> into the root<strong> ViewGroup </strong>(so layouts within layouts).&#160; If you run the app you should have it show up like this:</p>

<p><img style="display: block; float: none; margin-left: auto; margin-right: auto" title="Day Twelve Initial Layout" alt="Day Twelve Initial Layout" src="http://chrisrisner.com/upload/android_day_twelve_initial_layout.png" /></p>

<p>Looking at the XML and what your app shows, you should be able to glean that a <strong>LinearLayout</strong> simply allows you to stack <strong>Views</strong> inside of it (in either a <strong>vertical</strong> or <strong>horizontal</strong> orientation).&#160; Let’s start looking at the attributes of the <strong>LinearLayout</strong>:</p>

<div class="csharpcode">
  <pre class="alt">&lt;LinearLayout xmlns:android=<span class="str">&quot;http://schemas.android.com/apk/res/android&quot;</span></pre>

  <pre>    android:layout_width=<span class="str">&quot;fill_parent&quot;</span></pre>

  <pre class="alt">    android:layout_height=<span class="str">&quot;fill_parent&quot;</span></pre>

  <pre>    android:orientation=<span class="str">&quot;vertical&quot;</span> &gt;</pre>
</div>
<style type="text/css">



.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }</style>

<p><strong>layout_width</strong> and <strong>layout_height</strong> will be in many of the views you’ll use in Android apps.&#160; Here you’re saying that the root <strong>LinearLayout</strong> should fill up the whole screen by setting them both to “<strong>fill_parent</strong>”.&#160; The alternative “present” values are “<strong>match_parent</strong>” and “<strong>wrap_content</strong>”.&#160; If you change the <strong>layout_height</strong> value to be <strong>wrap_content</strong> and rerun, the app has changed but you won’t be able to see it.&#160; Since the background is black by default, there is no way to differentiate the bottom of the layout from the rest of the background.&#160; In order to demonstrate this in action, you’re going to add a new xml <strong>values </strong>file and set a new attribute on your layout.&#160; Start by right clicking on the <strong>res/values</strong> folder, go to <strong>New—&gt;Other </strong>and choose <strong>Android XML File</strong>.&#160; In the name enter “<strong>colors.xml</strong>” and click <strong>Finish</strong>.&#160; This generates a new resources file where we can specify different colors.&#160; We want a nice bright green color so when you’re done your xml should look like this:</p>

<div class="csharpcode">
  <pre class="alt"><span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">=&quot;1.0&quot;</span> <span class="attr">encoding</span><span class="kwrd">=&quot;utf-8&quot;</span>?<span class="kwrd">&gt;</span></pre>

  <pre><span class="kwrd">&lt;</span><span class="html">resources</span><span class="kwrd">&gt;</span></pre>

  <pre class="alt"> <span class="kwrd">&lt;</span><span class="html">color</span> <span class="attr">name</span><span class="kwrd">=&quot;Green&quot;</span><span class="kwrd">&gt;</span>#59FF00<span class="kwrd">&lt;/</span><span class="html">color</span><span class="kwrd">&gt;</span></pre>

  <pre><span class="kwrd">&lt;/</span><span class="html">resources</span><span class="kwrd">&gt;</span></pre>
</div>
<style type="text/css">



.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }</style>

<p>Now you can access this color in the same way you’ve accessed values in the <strong>strings.xml</strong> file before.&#160; Going back to your <strong>main.xml</strong> layout file, make sure you’ve set the <strong>layout_height</strong> to be “<strong>wrap_content</strong>” and then add the <strong>background </strong>attribute and specify your new color value using <a href="mailto:&ldquo;@color/Green">“<strong>@color/Green</strong></a>”.&#160; When you’re done, the root <strong>LinearLayout</strong> should look like this:</p>

<div class="csharpcode">
  <pre class="alt"><span class="kwrd">&lt;</span><span class="html">LinearLayout</span> <span class="attr">xmlns:android</span><span class="kwrd">=&quot;http://schemas.android.com/apk/res/android&quot;</span></pre>

  <pre>    <span class="attr">android:layout_width</span><span class="kwrd">=&quot;fill_parent&quot;</span></pre>

  <pre class="alt">    <span class="attr">android:layout_height</span><span class="kwrd">=&quot;wrap_content&quot;</span></pre>

  <pre>    <span class="attr">android:orientation</span><span class="kwrd">=&quot;vertical&quot;</span>     </pre>

  <pre class="alt">    <span class="attr">android:background</span><span class="kwrd">=&quot;@color/Green&quot;</span><span class="kwrd">&gt;</span></pre>
</div>
<style type="text/css">



.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }</style>

<p>Now when you run your application, it will look a little bit different:</p>

<p><img style="display: block; float: none; margin-left: auto; margin-right: auto" title="Android Day Twelve Second Layout" alt="Android Day Twelve Second Layout" src="http://chrisrisner.com/upload/android_day_twelve_second_layout.png" /></p>

<p>So what’s happened here is that you’ve set the background to green and said to only make the layout big enough to wrap what’s inside of it.&#160; We have 4 <strong>Views</strong> in our layout so the layout ends immediately after the last <strong>View</strong>, in this case the second <strong>Button</strong>.&#160; As I mentioned before, black is the default background color in the Android emulator so since we’re not specifying anything besides our <strong>LinearLayout</strong> the black default takes over.&#160; If you change <strong>layout_height</strong> back to “<strong>fill_parent</strong>”, you’ll see the green expand to the bottom of the screen.</p>

<p>For now, drop the background color so your app is a little easier to look at.&#160; The last attribute that was already in your <strong>LinearLayout</strong> is <strong>orientation</strong> which is set to “<strong>vertical</strong>”.&#160; By default when you create a new <strong>layout</strong> with it’s base <strong>ViewGroup</strong> being a <strong>LinearLayout</strong>, it will have a <strong>vertical </strong>orientation.&#160; If you remove the <strong>orientation</strong> attribute from the layout, it will be <strong>horizontal</strong> by default.&#160; Go ahead and remove the <strong>orientation</strong> attribute so your xml looks like this:</p>

<div class="csharpcode">
  <pre class="alt"><span class="kwrd">&lt;</span><span class="html">LinearLayout</span> <span class="attr">xmlns:android</span><span class="kwrd">=&quot;http://schemas.android.com/apk/res/android&quot;</span></pre>

  <pre>    <span class="attr">android:layout_width</span><span class="kwrd">=&quot;fill_parent&quot;</span></pre>

  <pre class="alt">    <span class="attr">android:layout_height</span><span class="kwrd">=&quot;fill_parent&quot;</span><span class="kwrd">&gt;</span></pre>
</div>

<p><style type="text/css">



.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }</style>When you run your application, you’ll be treated to an odd sight, only the “Rotation: 0” will be visible:</p>

<p><img style="display: block; float: none; margin-left: auto; margin-right: auto" title="Android Day Twelve Third Layout" alt="Android Day Twelve Third Layout" src="http://chrisrisner.com/upload/android_day_twelve_third_layout.png" /></p>

<p>The reason you’re only seeing the first <strong>TextView</strong> is because it’s <strong>layout_width</strong> is set to <strong>fill_parent</strong>.&#160; If you change it to <strong>wrap_content </strong>and run your app, now it should look like this:</p>

<p><img style="display: block; float: none; margin-left: auto; margin-right: auto" title="Android Day Twelve Fourth layout" alt="Android Day Twelve Fourth layout" src="http://chrisrisner.com/upload/android_day_twelve_fourth_layout.png" /></p>

<p>This doesn’t look very good and we could “fix it” by putting some space between our two <strong>Views</strong> but in this situation, we really want our root <strong>LinearLayout </strong>to use the <strong>vertical </strong>orientation so that we can use the whole screen.&#160; </p>

<p>The next two attributes we’ll look at are <strong>gravity</strong> and <strong>layout_gravity</strong>.&#160; The difference between these two can be slightly confusing but with enough experience, you should be able to pick it up (and fortunately it’s easy to switch between the two if you can’t remember).&#160; <strong>layout_gravity</strong> controls the gravity of the <strong>View</strong> it’s set on in it’s parent.&#160; So if you set the <strong>layout_gravity</strong> of the <strong>LinearLayout</strong> it’s relative to the root.&#160; <strong>gravity</strong> controls the gravity of all of a <strong>View’s</strong> children.&#160; So if you set the <strong>gravity</strong> on the <strong>LinearLayout</strong>, it will affect the <strong>TextView</strong>, <strong>EditText</strong>, and <strong>Buttons</strong>.&#160; Let’s actually try it out and see what happens.&#160; First, try setting <strong>gravity</strong> of the <strong>LinearLayout </strong>to <strong>“center_horizontal”</strong> your app will look like this:</p>

<p><img style="display: block; float: none; margin-left: auto; margin-right: auto" title="Andorid Day Twelve Fifth Layout" alt="Andorid Day Twelve Fifth Layout" src="http://chrisrisner.com/upload/android_day_twelve_fifth_layout.png" /></p>

<p>Remember that <strong>gravity </strong>affects a <strong>View</strong>’s children and it will make sense that all of your children <strong>Views</strong> are in the middle of the screen.&#160; Remember that the first <strong>TextView</strong> appears to not be centered but that is actually because it’s <strong>layout_width</strong> is set to <strong>“fill_parent”</strong>.&#160; If that was changed to “<strong>wrap_content</strong>” then it too would appear in the center.&#160; Conversely, if you don’t set <strong>gravity </strong>but instead set <strong>layout_gravity</strong> to “<strong>center_horizontal</strong>”, and then run your app it will look the same as it did before you added any gravity attributes.&#160; Similarly if you set <strong>layout_gravity</strong> to “<strong>right</strong>” it won’t look any different.&#160; If <strong>gravity</strong> is set to “<strong>right</strong>” though, your app will look like this:</p>

<p><img style="display: block; float: none; margin-left: auto; margin-right: auto" title="Android Day Twelve Sixth Layout" alt="Android Day Twelve Sixth Layout" src="http://chrisrisner.com/upload/android_day_twelve_sixth_layout.png" /></p>

<p>The last <strong>layout</strong> related thing we’ll cover today is adding a <strong>ViewGroup</strong> to another <strong>ViewGroup</strong>.&#160; Specifically in the app we have right now, let’s say we want to have a <strong>TextView</strong> to the left of our second <strong>button</strong>.&#160; There isn’t anyway we could just drop a <strong>TextView</strong> in and make it work right now.&#160; First, we need to drop in another <strong>LinearLayout</strong>.&#160; Remember that if you don’t specify an <strong>orientation</strong>, it will assumed to be <strong>horizontal</strong>.&#160; Once we wrap the <strong>button2</strong> in this new linear layout, we can add a new <strong>TextView</strong> in as well.&#160; Your <strong>main.xml</strong> layout should end up looking like this:</p>

<div class="csharpcode">
  <pre class="alt"><span class="kwrd">&lt;</span><span class="html">LinearLayout</span></pre>

  <pre>    <span class="attr">android:id</span><span class="kwrd">=&quot;@+id/linearLayour2&quot;</span></pre>

  <pre class="alt">    <span class="attr">android:layout_width</span><span class="kwrd">=&quot;wrap_content&quot;</span></pre>

  <pre>    <span class="attr">android:layout_height</span><span class="kwrd">=&quot;wrap_content&quot;</span><span class="kwrd">&gt;</span></pre>

  <pre class="alt">    <span class="kwrd">&lt;</span><span class="html">TextView</span> </pre>

  <pre>        <span class="attr">android:id</span><span class="kwrd">=&quot;@+id/textView2&quot;</span></pre>

  <pre class="alt">        <span class="attr">android:layout_width</span><span class="kwrd">=&quot;wrap_content&quot;</span></pre>

  <pre>        <span class="attr">android:layout_height</span><span class="kwrd">=&quot;wrap_content&quot;</span></pre>

  <pre class="alt">        <span class="attr">android:text</span><span class="kwrd">=&quot;@string/app_name&quot;</span><span class="kwrd">/&gt;</span></pre>

  <pre>    <span class="kwrd">&lt;</span><span class="html">Button</span></pre>

  <pre class="alt">        <span class="attr">android:id</span><span class="kwrd">=&quot;@+id/button2&quot;</span></pre>

  <pre>        <span class="attr">android:layout_width</span><span class="kwrd">=&quot;wrap_content&quot;</span></pre>

  <pre class="alt">        <span class="attr">android:layout_height</span><span class="kwrd">=&quot;wrap_content&quot;</span></pre>

  <pre>        <span class="attr">android:text</span><span class="kwrd">=&quot;Button&quot;</span> <span class="kwrd">/&gt;</span></pre>

  <pre class="alt"><span class="kwrd">&lt;/</span><span class="html">LinearLayout</span><span class="kwrd">&gt;</span></pre>
</div>
<style type="text/css">



.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }</style>

<p>And when you run your app, it should now look like this:</p>

<p><img style="display: block; float: none; margin-left: auto; margin-right: auto" title="Android Day Twelve Layout Seven" alt="Android Day Twelve Layout Seven" src="http://chrisrisner.com/upload/android_day_twelve_seventh_layout.png" /></p>

<p>Nested <strong>ViewGroups</strong> will be something you will end up using very frequently as you develop more sophisticated Android apps though there are some concerns with doing so.&#160; Remember that when you call <strong>setContentView</strong> in your <strong>Activity</strong> there is some overhead with inflating your view from the xml.&#160; If you have tons of nested layouts, it’s going to take longer and use more memory.&#160; Thankfully there are other types of <strong>layouts</strong> you can use to simplify things at times.&#160; We’ll take a deeper look at this and other layouts in the next few days.</p>

<p>Also, it’s worth pointing out that as of Android 4.0, <a title="Grid Layout" href="http://android-developers.blogspot.com/2011/11/new-layout-widgets-space-and-gridlayout.html">Google is recommending you use the new GridLayout instead of LinearLayout</a>.</p>

<p>You can <a title="Android Day Twelve Code" href="http://chrisrisner.com/upload/DayTwelve.zip">grab today’s code here</a>.</p>