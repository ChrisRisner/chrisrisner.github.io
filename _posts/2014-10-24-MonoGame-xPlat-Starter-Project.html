---
layout: post
title: "MonoGame xPlat Starter Project"
date: Fri Oct 24 2014 08:51:00
commentsOn: true
status: publish
type: post
published: true
categories: [Games, Xamarin, MonoGame]
excerpt: "This post describes the issues with getting started with MonoGame for cross-platform games and provides source code to a template with Android, iOS, and Windows Phone projects."
logoUrl: null
keywords: MonoGame,Xamarin,Visual Studio,iOS,Android,Windows Phone,template,xplat,cross-platform
filepath: 2014-10-24-MonoGame-xPlat-Starter-Project.html
disqus_identifier: MonoGame-xPlat-Starter-Project
---
<p><img style="margin: 0px 0px 5px 5px; display: inline" src="http://storage.chrisrisner.com/images/logo-monogame.png" align="right" />TLDR: You can access the source code <a title="MonoGameXplatStarter" href="https://github.com/ChrisRisner/MonoGameXplat">here</a>.</p>  <p>Sometimes one of the hardest things to do is just get started with something.&#160; Over the past couple of years, I’ve taken a few cracks at getting back into game development mostly by looking at xPlat frameworks such as <a title="libGDX" href="http://libgdx.badlogicgames.com/">libGDX</a> and <a title="MonoGame" href="http://www.monogame.net/">MonoGame</a>.&#160; One of the really nice things that libGDX has is a Setup Project app that, when ran, generates projects for the different platforms that the framework works on as well as a single place for shared code and the place to put all of your shared resources.&#160; This makes it super easy to get started and running your app on all of these platforms (Android, iOS, Windows, OS X, etc).&#160; Unfortunately, MonoGame doesn’t have a similar feature.&#160; Every time I’ve gotten back into MonoGame this has affected me because when I start development with a cross-platform framework, one of the first things I like to do is make sure things are running on all the platforms I intend to target.&#160; With any framework, I think you will probably end up finding things that you need to modify for specific platforms but it’s nice to see a very simple app (I won’t call it a game at this point) running cross-platform.</p>  <p>In order to make it easier on other people who may be trying to tackle the same issue, I spent the time getting the same app running on Android, iOS, and Windows Phone (the three platforms I’m interested in targeting right now).&#160; There are several reasons today why this is complicated:</p>  <ul>   <li>Version 3.2 of MonoGame (including project templates) has been released for Windows and Visual Studio, but NOT for other platforms (OS X being the one I need).</li>    <ul>     <li>There are NuGet binaries you can use but that’s not without it’s own issues.</li>      <li>The other option, which I used, was to compile the source code from GitHub.</li>   </ul>    <li>The Content Pipeline tool isn’t part of the public build yet (or at least it doesn’t seem to be) requiring you to grab the source for MonoGame and compile it.&#160; The Pipeline tool is really important if you want to compile your resources into the optimal format for each platform (recommended) and prior to the MonoGame folks making a tool, you had to use the old XNA Content project stuff (nightmare if you don’t already have a machine set up with it).</li>    <ul>     <li>For more on the Content Pipeline tool, check out <a title="MonoGame at Xamarin Evolve" href="https://www.youtube.com/watch?v=k09e39FVi6o">this video from Xamarin Evolve</a>.</li>      <li>Since this isn’t in the public build, I had to compile it from source too.</li>   </ul>    <li>There are two different ways to <a title="Sharing Code in Xamarin" href="http://developer.xamarin.com/guides/cross-platform/application_fundamentals/building_cross_platform_applications/sharing_code_options/">share code</a> (i.e. put all your game code in one place) with MonoGame (and Xamarin):&#160; PCLs and Shared Projects.&#160; They both have their pros and cons but I decided to use Shared Projects.&#160; This allows you to create code which is compiled for whatever platform you’re currently building for and you can do #if to put platform specific code.&#160; While the shared project type is supported by VS 2013 Update 2, you can’t actually add a reference to a shared code project (at least not a Windows Phone one).&#160; To get around this there is Visual Studio Extension called the <a title="Shared Project Reference Manager" href="https://visualstudiogallery.msdn.microsoft.com/315c13a7-2787-4f57-bdf7-adae6ed54450">Shared Project Reference Manager</a> that you just install and you’re ready to go.</li> </ul>  <p>It might seem like the first two bullet points are bashing the folks who work on MonoGame but that’s far from how I feel.&#160; MonoGame is a free framework and the people that work on it seem to do it on a volunteer basis.&#160; I have nothing but respect for these people and think they’re doing a great job.&#160; I, like everyone else wish they could do it faster / become rich for their efforts / make everything work just as easily on OS X, but in the meantime, I’ll do what I can to bridge some gaps.&#160; </p>  <p><strong>The Source Code</strong></p>  <p>The <a title="Source on GitHub" href="https://github.com/ChrisRisner/MonoGameXplat">code for the starter proejct is available on GitHub</a> and comprises the following:</p>  <ul>   <li>Solutions for Xamarin Studio (with iOS and Android projects) and Visual Studio (for Windows Phone)</li>    <li>A Shared Project with the Game class in it</li>    <li>iOS, Android, and Windows Phone 8.1 projects which all reference the Shared Project and use it’s Game class</li>    <ul>     <li>The Android project is targeting 4.2</li>      <li>You might need the above mentioned Shared Project Reference Manager for the WP project to compile.</li>   </ul>    <li>A local libs folder that contains iOS and Android MonoGame framework assemblies built off the Dev branch</li>    <li>The Windows Phone project is referencing the DLLs for MonoGame installed with the VS 2013 installer for MonoGame</li>    <li>Assets for each platform (only the Windows Phone version is compiled into an XNB for now)</li> </ul>  <p>Running the app currently works on each of these platforms and shows the MonoGame logo.&#160; This is laughably far from being a game you could run or do anything with but it’s a good template for starting out.&#160; Hopefully this provides a jumping point for other people to work on cross-plat games.</p>