---
layout: post
title: "31 Days of iOS: Day 4–Working with Multiple View Controllers and Storyboards"
date: Fri Jan 04 2013 08:43:00
commentsOn: true
status: publish
type: post
published: true
categories: [Mobile, Objective-C, iOS, XCode]
excerpt: "This is day 4 in the 31 Days of iOS series.  In this article we'll walkthrough how to use multiple views and view controllers in an application.  We'll also expand our knowledge of how to use storyboards and how to move between different view controllers."
logoUrl: null
keywords: iOS,31 days of iOS,Apple,Apple iOS,multiple view controllers,storyboards,segue,modal,How to develop iOS,iOS intro,iOS Introduction,iOS Tutorial,iOS for Beginners,Beginners,walkthrough
filepath: 2013-01-04-31-Days-of-iOS--Day-4–Working-with-Multiple-View-Controllers-and-Storyboards.html
disqus_identifier: 31-Days-of-iOS--Day-4–Working-with-Multiple-View-Controllers-and-Storyboards
redirect_from:
  - /2013-01-04-31-Days-of-iOS--Day-4%E2%80%93Working-with-Multiple-View-Controllers-and-Storyboards/
  - /2013-01-04-31-Days-of-iOS--Day-4–Working-with-Multiple-View-Controllers-and-Storyboards/
  - /31-Days-of-iOS--Day-4–Working-with-Multiple-View-Controllers-and-Storyboards/
  - /31-Days-of-iOS--Day-4–Working-with-Multiple-View-Controllers-and-Storyboards
---
<p><img style="margin: 0px 0px 5px 5px; display: inline; float: right" align="right" src="http://chrisrisner.com/upload/200px-Apple-logo.png" width="170" height="208" />Welcome to Day 4 in the <a title="31 Days of iOS" href="http://chrisrisner.com/31-Days-of-iOS">31 Days of iOS</a>.&#160; In <a title="Day 3 - Creating your first iOS app" href="http://chrisrisner.com/31-Days-of-iOS--Day-3%E2%80%93Our-First-App">yesterday’s article</a>, we built our first iOS app!&#160; The app was simple and just allowed the user to enter some text, tap a button, and then update a label with the text.&#160; While simple, building this app showed a few important different areas of Xcode including your first look at storyboards and the <strong>Assistant Editor</strong> in addition to understanding where the entry point for an application is.&#160; Today we’re going to build upon what we created yesterday by adding a second view controller to our app and looking at a couple different ways to display it in storyboards.&#160; In a later article, we’ll talk about displaying a view controller from the code.&#160; You can <a title="Day Three iOS Code" href="http://chrisrisner.com/upload/DayThreeApp.zip">download the code we’re going to start with (from yesterday’s article) here</a>.&#160; If you’d like to follow along with the <a title="31 Days of iOS Day 4 Final Source Code" href="http://chrisrisner.com/upload/DayFourApp.zip">completed code, you can access it here</a>.</p>  <p><strong>Adding some buttons</strong></p>  <p>The first thing we’re going to do today, is add some buttons to our View Controller.&#160; Eventually we’ll wire these up to show new view controllers.&#160; After you’ve opened your project in Xcode, open <strong>MainStoryboard.storyboard</strong>.&#160; The view we’re starting out with looks like this:</p>  <p align="center"><img src="http://chrisrisner.com/upload/31iosday4-starting-view.jpg" width="245" height="405" /></p>  <p>We’re going to do a few different things to our view.&#160; First, drag another <strong>Round Rect Button</strong> and set it’s title to “Show New View”.&#160; After that’s done, select the view (click anywhere in the whitespace of the view) and go to the <strong>Editor </strong>menu and choose <strong>Embed In –&gt; Navigation Controller</strong>. A Navigation Controller is a very common navigation technique in iOS development.&#160; If you are in an app with a blue bar near the top, there’s a good chance you’re looking at a Navigation Controller.&#160; This is very useful when you have a hierarchy of views where you might tap something in one view and descend into another view where you want to have a back button to return to the first.&#160; In this instance, you’d have a back button at the top left of the navigation bar on the second view.&#160; We’ll see exactly what this looks like soon.&#160; Before we look at our view, drag a <strong>Bar Button Item</strong> to the top right of the navigation bar.&#160; When done, your storyboard will look like this:</p>  <p align="center"><img title="day 4 storyboard" alt="day 4 storyboard" src="http://chrisrisner.com/upload/31iosday4-storyboard-1.jpg" /></p>  <p>On the left you see the <strong>Navigation Controller </strong>that was created when we embedded our view in it. On the right is our updated view.&#160; Notice the blue bar at the top.&#160; This is the <strong>Navigation Bar</strong> with the <strong>Bar Button Item</strong> at the top right (we left it’s <strong>Title</strong> as “Item”).&#160; </p>  <p><strong>Adding a new View Controller</strong></p>  <p>Next let’s add some new files.&#160; Go to the <strong>File </strong>menu and choose <strong>New –&gt; File</strong>.&#160; In the dialog that comes up, make sure you choose <strong>Cocoa Touch</strong> from the <strong>iOS </strong>area and then pick <strong>Objective-C class</strong>:</p>  <p align="center"><img title="new objective-c class" alt="new objective-c class" src="http://chrisrisner.com/upload/31iosday4-new-objective-c-class.jpg" /></p>  <p>You can name the class <strong>SecondViewController</strong> and leave it’s subclass as <strong>UIViewController</strong>.&#160; Hit next and choose where you want the files to be.&#160; Let’s take a look at the code that’s generated.&#160; Here’s <strong>SecondViewController.h</strong>:</p>  <p><script src="https://gist.github.com/3792292.js?file=SecondViewController.h"></script></p>  <p>The header class is completely empty with the exception of it extending <strong>UIViewController</strong>.&#160; <strong>SecondViewController.m</strong> has a bit more content:</p>  <p><script src="https://gist.github.com/3792292.js?file=SecondViewController.m"></script></p>  <p>The three methods here are necessary when implementing a <strong>UIViewController</strong>.&#160; We don’t have to alter these at all to get the view controller to work.&#160; Let’s return to our storyboard and tie in the new view controller.</p>  <p><strong>Adding a view controller into the storyboard</strong></p>  <p>After reopening the storyboard, drag a <strong>View Controller </strong>from the utility pane’s UI element selector onto the storyboard workspace.&#160; Switch over to the <strong>Identity Inspector</strong> in the top of the utility panel and choose <strong>SecondViewController </strong>from the <strong>Class</strong> dropdown:</p>  <p align="center"><img title="identity inspector" alt="identity inspector" src="http://chrisrisner.com/upload/31iosday4-identity-inspector.jpg" /></p>  <p>Now the view controller in the storyboard is tied to the <strong>SecondViewController</strong> class.&#160; Next we’ll look at two methods for displaying the new view controller</p>  <p><strong>Displaying a modal</strong></p>  <p>Return to <strong>MainStroyboard.storyboard</strong> and control + click and drag from the “Show New View” button over to the second view controller:</p>  <p align="center"><img title="connecting a button to a view in storyboards" alt="connecting a button to a view in storyboards" src="http://chrisrisner.com/upload/31iosday4-button-to-new-view.jpg" width="434" height="377" /></p>  <p>When you release the mouse, you’ll have the <strong>Segue Action Selector</strong>:</p>  <p align="center"><img title="" alt="Segue Action Selector" src="http://chrisrisner.com/upload/31iosday4-select-segue-action.jpg" /></p>  <p>We’re going to choose <strong>modal </strong>for now, but I’ll explain the differences soon.&#160; First, let’s talk about <strong>Segues</strong>.&#160; A segue defines how you transition from one view controller to another.&#160; After selecting <strong>modal</strong> you’ll see that the two view controllers are connected by an arrow with a circle in the middle:</p>  <p align="center"><img title="segue in Xcode Storyboards" alt="segue in Xcode Storyboards" src="http://chrisrisner.com/upload/31iosday4-segue.jpg" /></p>  <p>The circle with the icon in it represents the segue.&#160; If you click on the segue and go to the <strong>Attributes Inspector</strong> at the top of the <strong>Utilities </strong>pane, you’ll see that you can give the segue an <strong>Identifier</strong>, change the style (if we didn’t actually want <strong>Modal</strong> we could switch it here), as well as change the type of transition (if we wanted to cross dissolve or flip horizontal) if you don’t like the default.&#160; We don’t need to change these for now, but the <strong>Identifier</strong> property will be used in a future article.&#160;&#160;&#160; Now if you run your app and tap on the “Show New View” button, the second view controller will load.&#160; Unfortunately, we haven’t included any way to close that view.&#160; Let’s do that now.&#160; </p>  <p><strong>Closing a modal</strong></p>  <p>Return to the storyboard and add a new <strong>Round Rect Button</strong> to your <strong>SecondViewController</strong>.&#160; You can give it a <strong>Title</strong> of “Close Modal” for now.&#160; After that, open the <strong>Assistant Editor</strong> (the middle button above the “Editor” text in the top right of Xcode) and control + click and drag from the button to your controller code.&#160; We want to create a new <strong>Action</strong> for when the user taps the button:</p>  <p align="center"><img title="new action in Xcode" alt="new action in Xcode" src="http://chrisrisner.com/upload/31iosday4-new-action.jpg" /></p>  <p>After clicking Connect, the code for <strong>SecondViewController.h</strong> should look like this:</p>  <p><script src="https://gist.github.com/3792292.js?file=SecondViewController2.h"></script></p>  <p>Now let’s switch over to <strong>SecondViewController.m</strong> and wire this method up.&#160; Getting rid of our modal is actually very easy:</p>  <p><script src="https://gist.github.com/3792292.js?file=SecondViewController2.m"></script></p>  <p>All we have to do is call <strong>dismissModalViewController</strong> on <strong>self</strong> (so on <strong>SecondViewController</strong>).&#160; Now when you run your app and hit the “Show New View” button, you should see the new button on the screen.&#160; Tapping that should return you to the first view controller.&#160; </p>  <p><strong>Pushing a new view</strong></p>  <p>Let’s look at a different way of showing <strong>SecondViewController</strong>.&#160; Here we’re going to make use of the navigation bar and the <strong>Bar Button Item</strong> we added earlier.&#160; Go to your storyboard and control + click and drag from the button on the navbar (it still says “Item” unless you changed it) over to the second view:</p>  <p align="center"><img src="http://chrisrisner.com/upload/31iosday4-bar-button-segue.jpg" width="421" height="342" /></p>  <p>For this one, we’ll choose <strong>Push</strong> from the segue action selector.&#160; Now, run your app and tap the bar button item.&#160; You’ll be taken to the second view controller.&#160; Notice that when you are, a <strong>Back</strong> button has been added to the navigation bar automatically.&#160; When you tap this, you’ll be returned to the first view controller:</p>  <p><img style="display: block; float: none; margin-left: auto; margin-right: auto" title="Bar button navigation in iOS" alt="Bar button navigation in iOS" src="http://chrisrisner.com/upload/31iosday4-bar-navigation.jpg" width="717" height="381" /></p>  <p>If you try tapping the “Close Modal” button when you’re on the second view controller now, it won’t do anything.&#160; The reason is that we’re specifically calling <strong>dismissModalViewController</strong>.&#160; Since the view controller wasn’t loaded as a modal, nothing happens.&#160; If we were to change the code for the “Close Modal” button to this:</p>  <p><script src="https://gist.github.com/3792292.js?file=dismissPushedViewController.m"></script></p>  <p>Then it would return to the first view controller just like when we push the <strong>Back </strong>button though it would no longer close the modal.&#160; </p>  <p><strong>Conclusion</strong></p>  <p>Today we looked at two different ways to display different view controllers from storyboards: as part of a navigation hierarchy and as a modal. We also covered how to dismiss a view controller presented as a modal and one pushed onto a navigation hierarchy from our code.&#160; We’ll next look at how to programmatically present a view controller and how to pass data between our view controllers when we’re using segues and storyboards.&#160; You can <a title="31 days of iOS Day 4 Final Source" href="http://chrisrisner.com/upload/DayFourApp.zip">download the final code for today from here</a>.</p>