---
layout: post
title: "Running Android Virtual Devices and Installing APKs without Eclipse"
date: Mon Jul 02 2012 10:12:00 GMT-0700 (PDT)
comments: true
status: publish
type: post
published: true
categories: [Android, Mobile]
excerpt: "This article describes the steps necessary to install the Android SDK, create Android virtual devices (AVDs), and install and uninstall APKs without using Eclipse.  The target audience would be anyone that doesn't need to compile or view source code of an Android application but can be handed an APK and run it on an emulator."
logoUrl: null
keywords: Android,Android without Eclipse,APK install without Eclipse,APK uninstall without Eclipse,APK,DDMS,AVD,Android virtual device
filepath: 2012-07-02-Running-Android-Virtual-Devices-and-Installing-APKs-without-Eclipse.html
disqus_identifier: Running-Android-Virtual-Devices-and-Installing-APKs-without-Eclipse
redirect_from: 
  - /running-android-virtual-devices-and-installing-apks-without-eclipse.html
  - /running-android-virtual-devices-and-installing-apks-without-eclipse/
---
<p>In the recent past, I’ve had to send instructions over to a few different people on how to get an Android Virtual Device (AVD) up and running and install an APK for testing or demoing purposes.&#160; For the majority of these people, there really was no need for them to install Eclipse and have to figure out how to load an Android project into it, compile it, and push it on to an AVD.&#160; Thankfully, it’s entirely possible for these people to avoid having to install Eclipse.&#160; It does require some (questionably) more manual work, but I’ve outlined the steps below to accomplish this.&#160; Note that these instructions will work the same on Windows, OS X, or Linux, the only difference is the directory the SDK is unzipped / installed to and the command line calls.&#160; I’ll try to outline below where things are different from the given Windows step.</p>    <ol>   <li>Go to <a href="http://developer.android.com/">http://developer.android.com</a></li>    <li>Click link to Download</li>    <li>Choose the EXE installer (this will install into C:\Program Files (x86)\Android\android-sdk by default.&#160; Note that in OS X / Linux, you’ll actually get a zip which you can unzip anywhere you choose (I usually put it under a code folder in my personal directory)     <ol>       <li>I would recommend downloading before you install.&#160; If you run the installer and don’t already have a JDK installed, it will prompt you to install it and then exit.&#160; This means you need to find the temporary file if you don’t know where it’s auto-downloaded to.</li>     </ol>   </li>    <li>Run the installer</li>    <ol>     <li>If you’re prompted to install a JDK now, follow the instructions on the installer       <br /><img src="http://chrisrisner.com/upload/Android-Windows-Installer-JDK-Prompt.png" />&#160;</li>      <li>You’ll probably need to restart the installer after installing the JDK.</li>   </ol>    <li>When the installer finishes, it will start the SDK Manager by default, allow it to do so.</li>    <li>The SDK Manager will launch and start poll to get a list of packages you can install.&#160; </li>    <ol>     <li>This will allow you to install different versions of the SDK. This is necessary for emulating different version of the Android OS.       <br /><img src="http://chrisrisner.com/upload/Android-SDK-Manager-Package-List.png" />        <br /></li>   </ol>    <li>Depending on which versions of Android your application supports, you may need to install several different SDKs.&#160;&#160; <ol>       <li>SDK Platform is the base SDK.&#160; If you want to run a non-Google version of Android, you can stick with just SDK Platforms</li>        <li>Google APIs enhance the base SDK Platform for each version and are required to run some specific features (Google Maps, C2DM (now Cloud Messaging), etc).</li>        <li>Samples for SDK are only necessary if you’re going to install sample apps.</li>        <li>The rest of the packages are different specific system images.&#160; For example, if you wanted to develop against a Xoom image, there is one you can download from there (most of these special images REQUIRE you to have a login with the manufacturer’s portal to install).</li>     </ol>   </li>    <li>For now, download at least the SDK Platforms and Google APIs you think you’ll need.&#160; For example, if I wanted to download the 4.0.3 emulator image and the 2.2 emulator image, I would grab the following:     <ol>       <li>Android 4.0.3 (API15) / SDK Platform</li>        <li>Android 4.0.3 (API15) / Google APIs</li>        <li>Android 2.2 (API8) / SDK Platform</li>        <li>Android 2.2 (API8) / Google APIs</li>     </ol>   </li>    <li>Note that if you have trouble either getting the list of packages or installing a package, you can try going to the Tools menu and then Options.&#160; In the Options window, under “Misc”, there is an option to “Force https://... sources to be fetched using http://”.&#160; Sometimes in the past I’ve had issues (probably firewall problems) getting things through https.&#160; This usually fixes it.</li>    <li>Once you’ve installed the packages, you have two options to create Android Virtual Devices (AVDs).&#160; In the SDK Manager, go to the Tools menu and choose “Manage AVDs”.&#160; Alternatively, you can navigate to C:\Program Files (x86)\Android\android-sdk and open the “AVD Manager”.     <br /><img src="http://chrisrisner.com/upload/Android-AVD-Manager.png" /></li>    <li>The New button in the top right will enable you to create a new AVD.&#160; Here is a filled out form to create a new 4.0.3 emulator image:      <br /><img src="http://chrisrisner.com/upload/Android-AVD-Manager-New-AVD.png" />      <br />      <ol>       <li>Note that if you’re going to do something which requires an SD card (like save images from the browser so you can access them in the gallery) you’ll need to set a size in the SD Card field when you create it, or use the AVD Manager to go back and edit the AVD.</li>     </ol>   </li>    <li>You should now be able to start the AVD.&#160; Now you just need to be able to access it and install program files (APKs) onto it.</li>    <li>Open a Command Prompt (go to the start menu and type in “Command Prompt”, it will come up) (for OS X, you want to start the Terminal and calls below should start with a “./”).</li>    <li>Navigate to the Android Platform Tools directory (C:\Program Files (x86)\Android\android-sdk\platform-tools)     <ol>       <li>If you’re not familiar with the Windows Command Line, type in “cd C:\Program Files (x86)\Android\android-sdk\platform-tools” and hit enter.</li>     </ol>   </li>    <li>If you type in ADB and hit enter, you’ll see a lot of text flash by.&#160; ADB is the program you’ll use to do most of your interaction as far as installing and uninstalling apps on the emulators go.&#160; It’s command line driven and not the easiest thing to use, but it still gets you out of having to install Eclipse.     <ol>       <li><a title="Andorid Debug Bridge" href="http://developer.android.com/guide/developing/tools/adb.html">ADB</a> stands for Android Debug Bridge and it’s meant to be used as a command line driven debug tool for Android emulators (and devices).&#160; Using it you can terminal into the emulator image while it is running to do many different things.</li>        <li>If you run a command that should affect an emulator / device (such as installing an APK) and there are multiple devices connected, you’ll get this error: “error: more than one device and emulator”.&#160; You must then use the -s &lt;serial number&gt; parameter to specify which device you want the command to affect.&#160; So, the install command below would become “adb -s &lt;serial number&gt; install &lt;filename&gt;.apk</li>        <li>Some of the simple commands ADB can do (remember to start your command with “./” in OS X):         <ol>           <li>adb devices // lists all currently connected / running devices / emulators</li>            <li>adb install &lt;filename&gt;.apk // installs an apk to the only connected device             <ol>               <li>It’s worth it to note that if the same version of an APK is already installed, you won’t be able to install it again and will get “Failure [INSTALL_FAILED_ALREADY_EXISTS]”</li>             </ol>           </li>            <li>adb uninstall &lt;package&gt; // uninstalls a specific package on the only connected device             <ol>               <li>Here, the package name is NOT the same thing as the name of the APK file you used to install from.&#160; This is the actual package of your application, such as com.google.example.</li>             </ol>           </li>            <li>adb pull &lt;remote&gt; &lt;local&gt; // Copies a file or directory from the computer (remote) to the device (local)</li>         </ol>       </li>        <li>There are <a title="Other things ADB can do" href="http://developer.android.com/guide/developing/tools/adb.html">many other things you can do with ADB as described here</a>.&#160; There is an additional utility you can use which makes many of the debug commands easier.</li>     </ol>   </li>    <li><a title="DDMS" href="http://developer.android.com/guide/developing/debugging/ddms.html">DDMS (Dalvik Debug Montior Service)</a> is a debug tool which offers a plethora of information.&#160; <br /><img src="http://chrisrisner.com/upload/Android-DDMS-Debugging.png" />&#160; <ol>       <li>After starting DDMS, you’ll see a list of the devices / emulators running in the top left with all of their running processes beneath them.&#160; </li>        <li>Once you’ve selected a device, you’ll see a debug log in the bottom half of the screen.&#160; This is called LogCat.&#160; You can add filters to LogCat (left side of the bottom half of the screen) to view only logs for specific things (such as for a specific app).</li>        <li>The top right portion of the screen allows you to see specific information on a device / selected process.&#160; In addition, using the “Emulator Control” tab, you can set specific network statuses on a device, fake an incoming phone call, or even set the phone to be at a specific location (for GPS testing).</li>     </ol>   </li> </ol>  <p>That should be enough to get you started with testing APK files out on an emulator or a device.</p>