---
layout: post
title: "31 Days of iOS: Day 18-Opening your App from a Website"
date: Fri Jan 18 2013 08:39:00
commentsOn: true
status: publish
type: post
published: true
categories: [Mobile, Objective-C, XCode, iOS]
excerpt: "This is day 18 in the 31 Days of iOS.  In this article we'll walk through the steps necessary to make it possible to launch your app from a link or web browser."
logoUrl: null
keywords: iOS,31 days of iOS,Apple,Apple iOS,Information Property List,Url Types,URL Identifier,URL Schemes,schema,handleOpenUrl,,How to develop iOS,iOS intro,iOS Introduction,iOS Tutorial,iOS for Beginners,Beginners,walkthrough
filepath: 2013-01-18-31-Days-of-iOS--Day-18-Opening-your-App-from-a-Website.html
disqus_identifier: 31-Days-of-iOS--Day-18-Opening-your-App-from-a-Website
redirect_from:
  - /2013-01-18-31-Days-of-iOS--Day-18%E2%80%93Opening-your-App-from-a-Website/
  - /2013-01-18-31-Days-of-iOS--Day-18-Opening-your-App-from-a-Website/
  - /31-Days-of-iOS--Day-18-Opening-your-App-from-a-Website/
  - /31-Days-of-iOS--Day-18-Opening-your-App-from-a-Website
---
<p><img style="margin: 0px 0px 5px 5px; display: inline; float: right" align="right" src="http://chrisrisner.com/upload/200px-Apple-logo.png" width="170" height="208" />Welcome to Day 18 of the <a title="31 Days of iOS" href="http://chrisrisner.com/31-Days-of-iOS">31 Days of iOS</a>.&#160; <a title="Day 17: The Debug Console" href="http://chrisrisner.com/31-Days-of-iOS--Day-17%E2%80%93Using-the-Debug-Console">Yesterday</a>, we talked about how to use the Xcode <strong>Debug Console</strong>.&#160; The <strong>debug console</strong> can be used to log information while your app runs as well as to print out objects on the fly at breakpoints.&#160; Today we’re going to talk about how to launch your app when a certain URL is tapped in the browser.&#160; We already saw this a little bit when we looked at connecting our apps to the built in apps on day 15.&#160; Today we’ll see how you can take advantage of the same thing.&#160; We’ll be starting with a brand new project, but if you’d like to <a title="iOS day 18 source code" href="http://storage.chrisrisner.com/codesamples/iOSDayEighteen.zip">follow along with the completed code, you can access it here</a>.</p>  <p><strong>Creating our project</strong></p>  <p>Open up Xcode and choose <strong>File</strong>, <strong>New</strong>, <strong>Project</strong>.&#160; We’ll use a <strong>Single View Application </strong>and name it <strong>DayEighteen</strong>:</p>  <p align="center"><img title="iOS Day 18" alt="iOS Day 18" src="http://storage.chrisrisner.com/images/31iosday18-new-project.jpg" width="442" height="357" /></p>  <p>Now, we aren’t going to do very much with our user interface, but we will put a label on it so we can display some information.&#160; Open up the <strong>MainStoryboard.storyboard</strong> and drop a <strong>Label</strong> onto your view so it looks like this:</p>  <p align="center"><img title="UI with label" alt="UI with label" src="http://storage.chrisrisner.com/images/31iosday18-ui.jpg" /></p>  <p>Now open the <strong>Assistant Editor </strong>in the top right of Xcode and <strong>control + click and drag</strong> from the label to the code behind to create an outlet.&#160; Afterwards your code will look like this:</p>  <p><script src="https://gist.github.com/4146297.js?file=ViewController.h"></script></p>  <p>Now we can do the plumbing for handling the custom URL scheme.</p>  <p><strong>Handling the URL Scheme</strong></p>  <p>Expand the <strong>Supporting Files</strong> folder and open the <strong>DayEighteen-Info.plist</strong> file.&#160; This file contains some application settings and is where we’re going to put our custom URL scheme.&#160; Right click on the <strong>Information Property List </strong>row at the top and go to <strong>Add Row</strong>:</p>  <p align="center"><img title="Add row in plist" alt="Add row in plist" src="http://storage.chrisrisner.com/images/31iosday18-add-row.jpg" /></p>  <p>In the drop down that appears, select <strong>URL types</strong>:</p>  <p align="center"><img title="URL Types" alt="URL Types" src="http://storage.chrisrisner.com/images/31iosday18-url-types.jpg" /></p>  <p>Expand the arrows next to <strong>URL types</strong> and <strong>Item 0</strong> and for <strong>URL identifier</strong>, enter the bundle of your app (in my case it was <strong>com.cmr.dayeighteen</strong>):</p>  <p align="center"><img title="URL Identifier" alt="URL Identifier" src="http://storage.chrisrisner.com/images/31iosday18-url-identifier.jpg" /></p>  <p>Now, right click on <strong>Item 0</strong> and choose <strong>Add Row</strong>.&#160; From the drop down that appears, select <strong>URL Schemes</strong>:</p>  <p align="center"><img title="URL Schemes" alt="URL Schemes" src="http://storage.chrisrisner.com/images/31iosday18-url-schemes.jpg" /></p>  <p>Expand the <strong>URL Schemes </strong>arrow and for <strong>Item 0</strong>, enter the text for the URL scheme you want.&#160; So if you wanted the URL to open your app to be <strong>myapp://etc</strong> you would enter <strong>myapp</strong> here.&#160; For today, I’m going to use <strong>dayeighteen</strong>:</p>  <p align="center"><img title="my url scheme" alt="my url scheme" src="http://storage.chrisrisner.com/images/31iosday18-my-url-scheme.jpg" /></p>  <p><strong>Loading the app from a web page</strong></p>  <p>Now we need to actually create a link to load our app.&#160; Any anchor tag (<strong>&lt;a href=…</strong>) where the URL starts with the URL scheme you entered above will work.&#160; So for my app, the html might look like this:</p>  <blockquote>   <p>&lt;a href=”dayeighteen://myapp”&gt;Load my app&lt;/a&gt;</p> </blockquote>  <p>I’ve already uploaded a test page to my website which we’ll use to test out the <strong>Day Eighteen</strong> app.&#160; The html for that page can be seen here:</p>  <p><script src="https://gist.github.com/4146297.js?file=dayeighteen.html"></script></p>  <p>Notice that I’ve added a few query string parameters to the URL.&#160; We’ll show why in a minute.&#160; Now if you run your app and then go to safari and open <a href="http://chrisrisner.com/upload/iOSdayeighteen.html">http://chrisrisner.com/upload/iOSdayeighteen.html</a> and tap on the <strong>Open my app</strong> link, your app will load.&#160; </p>  <p><strong>Handling the URL in the app</strong></p>  <p>As you saw before, I put some query string parameters on the URL in my web page.&#160; Ideally, I’d like to be able to grab those in my app when I detect it’s been loaded by a URL.&#160; Thankfully, there is a method in the <strong>AppDelegate</strong> that will facilitate exactly this.&#160; Open the <strong>AppDelegate.m</strong> file and add the <strong>application: handleOpenURL</strong> method:</p>  <p><script src="https://gist.github.com/4146297.js?file=AppDelegate.m"></script></p>  <p>This method will be called whenever your app is launched via URL or processes a URL.&#160; If you put a breakpoint in this method and check the <strong>url</strong> variable, you’ll see that it’s the URL from our webpage.&#160; We could then parse that URL and perform custom actions depending on what is sent in.&#160; What if we want to set the <strong>UILabel</strong> with the text that is sent in?&#160; We need to have some way of getting the text from the <strong>AppDelegate </strong>over to our <strong>ViewController</strong>.&#160; To do this today, we’ll use <strong>NSUserDefaults</strong> which we looked at in day 11.&#160; Let’s change the <strong>handleOpenURL </strong>method to save the URL into defaults:</p>  <p><script src="https://gist.github.com/4146297.js?file=AppDelegate2.m"></script></p>  <p>Now let’s open the <strong>ViewController.m</strong> and set our label with the URL in the <strong>viewDidLoad</strong> method:</p>  <p><script src="https://gist.github.com/4146297.js?file=ViewController.m"></script></p>  <p>Now if you try this out, you’ll need to kill the app before tapping the link in the web page.&#160; The reason for this is that if you’re already on <strong>ViewController</strong> when the app is “reopened” by tapping the URL, it will not reload <strong>ViewController</strong> and won’t trigger changing the text of the label.&#160; </p>  <p><strong>Conclusion</strong></p>  <p>Today we looked at how to open an application by tapping a URL in the browser.&#160; Many apps use this to help provide a more native experience when users go to their web page.&#160; In fact, Yelp <a title="Yelp iOS app documentation" href="http://www.yelp.com/developers/documentation/iphone">provides documentation to load their app</a> and search for a type of food or open a specific restaurant.&#160; This allows your apps to integrate with theirs and provide a better experience to your users.&#160; Likewise, you might want to expose this capability to others so they can integrate with your app.&#160; You can <a title="iOS day 18 source code" href="http://storage.chrisrisner.com/codesamples/iOSDayEighteen.zip">access the final source code from today here</a>.</p>