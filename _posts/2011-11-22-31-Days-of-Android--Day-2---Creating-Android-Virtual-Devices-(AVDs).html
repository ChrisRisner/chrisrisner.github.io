---
layout: post
title: "31 Days of Android: Day 2 - Creating Android Virtual Devices (AVDs)"
date: Tue Nov 22 2011 03:58:00 GMT-0800 (PST)
comments: true
status: publish
type: post
published: true
categories: [Android, Google, Mobile, Phone, Programming]
excerpt: "This is another tutorial in the 31 Days of Android series.  Today we'll look at how to create Android Virtual Devices (AVDs) so that you can test your Android applications on different versions of the emulator."
logoUrl: null
keywords: Android,31 days of Android,Google,Google Android,Android Intro,How to develop for android,Android Virtual Devices,AVDs,AVD,Build Target,Minimum SDK,Tutorial
filepath: 2011-11-22-31-Days-of-Android--Day-2---Creating-Android-Virtual-Devices-(AVDs).html
disqus_identifier: 31-Days-of-Android--Day-2---Creating-Android-Virtual-Devices-(AVDs)
---
<p>Continuing in our <a title="31 Days of Android" href="http://chrisrisner.com/31-Days-of-Android">31 Days of Android series</a>, we’ll talk about Android Virtual Devices (AVDs).&#160; Strictly speaking, you don’t need an Android phone or tablet to develop for Android.&#160; Instead, you can create AVDs and run them in an emulator.&#160; Unfortunately, the emulator is well known for being slow, displaying things differently than devices, and just being the bane of many developers.&#160; Prior to the release of <a title="Android Ice Cream Sandwich" href="http://developer.android.com/sdk/android-4.0-highlights.html">Ice Cream Sandwich</a> and the latest version of <a title="Android Developer Tools" href="http://developer.android.com/guide/developing/tools/adt.html">ADT</a>, running the emulator for a tablet was nearly impossible.&#160; For most people out there (including myself) there just isn’t a way to get access to all of the different device types.&#160; This mostly means different screen sizes and densities, however, you also may want to test against hardware keyboards.&#160; I will say that if you <em>can</em> get access to enough devices, avoid the emulator.&#160; Provided you have installed all of the different Google APIs and SDK versions from <a title="31 Days of Android - Day 1 - Getting Set Up for Development" href="http://chrisrisner.com/31-Days-of-Android--Day-1---Getting-Set-Up-for-Development">yesterday’s entry in 31 Days of Android</a>, you should be good to go with today.</p>  <p>If you’re not already running Eclipse, go ahead and launch it.&#160; After doing so, go to the <strong>Window</strong> menu and choose <strong>AVD Manager.&#160; </strong>The manager won’t list any AVDs yet (unless you created some in the past) so now we’ll create some.&#160; Clicking <strong>New</strong> takes us to this window:</p>  <p><img style="display: block; float: none; margin-left: auto; margin-right: auto" title="New Avd" alt="New AVD" src="http://chrisrisner.com/upload/android_new_avd.png" /></p>  <p>The name can be whatever you want.&#160; Since the platform and API level are visible in the AVD manager, you may want to name your AVD for the resolution you select or any other special setup you apply to the AVD.&#160; The vast majority of Android devices out there are still pre 3.0.&#160; You can view the <a title="Android Device Version Distribution" href="http://developer.android.com/resources/dashboard/platform-versions.html">current distribution of device versions</a> on the Android developer site.&#160; Knowing this, if you want to put out an application that gets the most people possible, you’ll want to make it for and test it against at least 2.2 and up.&#160; This currently covers 87% of devices on the market.&#160; So if we want to create a 2.2 device, we can choose either “Android 2.2 – API Level 8” or “Google APIs (Google Inc.) – API Level 8”.&#160; The difference between the two is that the Google APIs version comes with a few extras.&#160; The most common thing the APIs version has that people use is access to Google Maps.&#160; If your app will use Google Maps, make sure you use an API version.&#160; I don’t know of a bad reason for using an API version so you may just want to use that either way.&#160; So once you’ve selected “Google APIs (Google Inc.) – API Level 8” you have the option of selecting size of the SD card.&#160; If you’re doing something where size is a factor you may want to set this.&#160; In my general usage and testing, I never have.&#160; </p>  <p>Snapshot is a relatively new feature that should allow you to boot your AVDs faster.&#160; Essentially what Snapshot does is save the state of your AVD whenever you shut it down.&#160; Then when you reboot it, it will start up much faster than the normal boot process.&#160; It does introduce some issues with restarting the AVD that requires you to uncheck a “Launch from Snapshot” checkbox in the AVD’s launch options though.&#160; </p>  <p>Next we have Skin.&#160; Skin allows us to quickly select a predefined screen size, such as the default WVGA800, or pick out a specific resolution.&#160; Most of the time I’ve gotten by with the Built-In Skins but if you need to test a specific device, you may need to branch out.&#160; In addition, you can install additional built in Skins for use.&#160; <a title="Android Nexus S and Nexus One Skins for AVD" href="http://heikobehrens.net/2011/03/15/android-skins/">Here is one walkthrough on installing skins for the Nexus S and Nexus One (not the upcoming Galaxy Nexus)</a>.&#160; For my general testing I’ll make an AVD for WVGA800 and HVGA.&#160; This covers a high definition device and a medium definition device.&#160; </p>  <p>Lastly, you’ll see the Hardware options.&#160; When you pick a Target SDK and a Skin, some options will already be filled in (typically “Abstracted LCD density”, “Max VM application heap size”, and “Device ram size”).&#160; This area gives you the ability to specify whether GPS should work, whether you can use a camera, whether or not the device has a hardware QWERTY keyboard and more.&#160; Most of these settings are defaulted to options that make it easy to test a device <em>with</em> the functionality.&#160; So if you want to test how your app would run on a device that doesn’t have a hardware keyboard, camera, or GPS, then that is when you’d want to go in and add these settings to the Hardware area.&#160; </p>  <p><img style="margin: 0px 0px 5px 5px; display: inline; float: right" align="right" src="http://chrisrisner.com/upload/avd_launch_options.png" />Once you’ve filled that info out, you’re ready to hit <strong>Create AVD</strong>. Upon doing so, you’ll be taken back to the Android Virtual Device Manager.&#160; When you’re here, you can select your new AVD and click details to get more information.&#160; When you’re ready, click <strong>Start</strong>.&#160; You’ll next get the Launch Options screen.&#160; From here you can control scaling options to decrease (or increase) the size of the emulator.&#160; This doesn’t affect the DPI of the emulator but how much space the emulator takes up on your screen.&#160; If you’re developing on a smaller screen monitor or laptop, you may need to scale down any HDPI emulators because they won’t actually fit on the screen.&#160; Lastly, there are options to <strong>Wipe User Data</strong> to set the emulator back to a “new” state.&#160; There are two options for Snapshot here that have to do with the Snapshot option we discussed when creating the AVD.&#160; You should finally be ready so go ahead and hit <strong>Launch</strong>.&#160; And wait.&#160; As I’ve said before, the emulator is pretty slow.&#160; Using the snapshot mode should boost the speed of starting your emulators.&#160; Give it some time though, and you’ll have access to the emulator.&#160; </p>  <p>One thing to note is that the emulator won’t have any accounts set up by default and doesn’t have the Android Marketplace installed.&#160; This means that if you’re writing an application that needs to interact with other Marketplace installed apps, you won’t really be able to test on the emulator, at least not in an easy manner.&#160; It is possible to get the <a title="Installing Android Marketplace onto Emulator" href="http://blog.varunkumar.me/2010/11/how-to-install-android-market-in-google.html">Android Marketplace onto an emulator image but it requires a bit of work and isn’t perfect</a>.&#160; Just to reiterate, if you have access to devices, you’ll probably have an easier time testing on them.&#160; </p>  <p>If you haven’t already done so on your own, go ahead and create an AVD targeting <strong>Google APIs (Google Inc.) – API Level 8</strong> with a <strong>Built-in Skin</strong> of <strong>HVGA</strong> and <strong>Snapshot </strong>enabled.&#160; If you want to have an easier time of following along later, name your AVD “hvga”.</p>