---
layout: post
title: "31 Days of iOS: Day 17–Using the Debug Console"
date: Thu Jan 17 2013 07:00:00 GMT-0800 (PST)
comments: true
status: publish
type: post
published: true
categories: [Mobile, Objective-C, XCode, iOS]
excerpt: "This is day 17 in the 31 Days of iOS.  Today we take a look at the debug console.  The debug console can be used to debug your application and print out information about the app as it runs.  Anything logged using NSLog will appear in this console.  Additionally, at breakpoints you can use the print and po commands to get more information."
logoUrl: null
keywords: iOS,31 days of iOS,Apple,Apple iOS,debug,debug console,NSLog,logging objects,logging properties,po,print,description,How to develop iOS,iOS intro,iOS Introduction,iOS Tutorial,iOS for Beginners,Beginners,walkthrough
filepath: 2013-01-17-31-Days-of-iOS--Day-17–Using-the-Debug-Console.html
disqus_identifier: 31-Days-of-iOS--Day-17–Using-the-Debug-Console
---
<p><img style="margin: 0px 0px 5px 5px; display: inline; float: right" align="right" src="http://chrisrisner.com/upload/200px-Apple-logo.png" width="170" height="208" />Welcome to Day 17 of the <a title="31 Days of iOS" href="http://chrisrisner.com/31-Days-of-iOS">31 Days of iOS</a>.&#160; <a title="Day 16: Handling Device Orientation" href="http://chrisrisner.com/31-Days-of-iOS--Day-16%E2%80%93Handling-Device-Orientation">Yesterday</a>, we reviewed device orientation including how to detect when the orientation of the device changes and how to restrict what orientation a screen can appear in.&#160; Today we’re going to talk about how you can make use of the <strong>Debug Console</strong>.&#160; Compared to other integrated development environments (IDEs), Xcode leaves a bit to be desired when it comes to debugging an application.&#160; While many IDEs allow you to hover over a variable and see all of it’s properties whenever you hit a breakpoint, Xcode doesn’t really work this way.&#160; Thankfully, using the <strong>Debug Console</strong>, we can alleviate many of these issues..&#160; We’ll be starting with a brand new project, but if you’d like to <a title="iOS day 17 source code" href="http://storage.chrisrisner.com/codesamples/iOSDaySeventeen.zip">follow along with the completed code, you can access it here</a>.</p>  <p><strong>Creating our project</strong></p>  <p>Open up Xcode and choose <strong>File</strong>, <strong>New</strong>, <strong>Project</strong>.&#160; We’ll use a <strong>Single View Application</strong> and name it <strong>DaySeventeen</strong>:</p>  <p align="center"><img title="Day 17 New project" alt="Day 17 New project" src="https://crcomcstorage.blob.core.windows.net/images/31iosday17-new-project.jpg" width="508" height="418" /></p>  <p>We don’t really need any UI in order to demonstrate how to use the <strong>Debug Console</strong>, but to make thing a little easier, we’ll add a few buttons to our user interface.&#160; Open the <strong>MainStoryboard.storyboard</strong> and drop four <strong>Round Rect Buttons</strong> onto the view.&#160; When you’re done, it should look something like this:</p>  <p align="center"><img title="day 17 UI with buttons" alt="day 17 UI with buttons" src="https://crcomcstorage.blob.core.windows.net/images/31iosday17-ui.jpg" /></p>  <p>Now we can open the <strong>Assistant Editor</strong> in the top right of Xcode’s <strong>Utility Pane </strong>and <strong>control + click and drag</strong> from each button to the code behind to create actions.&#160; When you’re done, the <strong>ViewController.h</strong> should look like this:</p>  <p><script src="https://gist.github.com/4145909.js?file=viewcontroller.h"></script></p>  <p>Now let’s start using the <strong>Debug Console</strong>.</p>  <p><strong>Our first NSLog statement</strong></p>  <p>Open up the <strong>ViewController.m </strong>file and implement the <strong>tappedButtonOne </strong>method like so:</p>  <p><script src="https://gist.github.com/4145909.js?file=tappedButtonOne-1.m"></script></p>  <p>Now run your app and tap the first button.&#160; When you do so, you should see (provided the simulator is running on top of the Xcode window), that when you tap the button, a new panel comes up from the bottom of Xcode:</p>  <p align="center"><img title="Debug Panel in Xcode" alt="Debug Panel in Xcode" src="http://storage.chrisrisner.com/images/31iosday17-debug-one.jpg" width="614" height="201" /></p>  <p>The section in the bottom right can be used for looking at variables when you’ve hit a brakepoint (we’ll look at this for a moment shortly).&#160; The section on the right is the <strong>Debug Console</strong>.&#160; Because we logged something from our code, the console automatically appeared.&#160; However, you can also open this manually by going to the <strong>View </strong>menu and choosing <strong>Debug Area </strong>and <strong>Activate Console</strong>.&#160; Also, you can tap <strong>command + shift + C</strong> and it will appear.&#160; Let’s look at logging something more complicated.&#160; </p>  <p><strong>Logging objects</strong></p>  <p>Similar to the <strong>NSString</strong>’s <strong>stringWithFormat</strong> method, we can put placeholders into our log string and then pass in objects or variables to be used to fill those placeholders.&#160; Let’s look at doing that now:</p>  <p><script src="https://gist.github.com/4145909.js?file=tappedButtonOne-2.m"></script></p>  <p>Here we’ve added another call to <strong>NSLog</strong> and passed the <strong>sender </strong>sent into the button tap action method as the parameter.&#160; Now when we run our app and tap button one, we see the original log statement and some more information:</p>  <blockquote>   <p>2012-11-25 16:07:14.388 DaySeventeen[12698:c07] Hello debug console!      <br />2012-11-25 16:07:14.390 DaySeventeen[12698:c07] Sender: &lt;UIRoundedRectButton: 0x75426c0; frame = (20 20; 280 44); opaque = NO; autoresize = TM+BM; layer = &lt;CALayer: 0x7542790&gt;&gt;</p> </blockquote>  <p>As you can see, the <strong>sender</strong> is the <strong>UIRoundedRectButton</strong> that we connected with the action method.&#160; The other information is relevant to the button, but doesn’t really mean a lot to us right now.&#160; One thing we’d like to see is that the text on the button is logged when we call <strong>NSLog</strong>.&#160; Let’s look at how to do that next.</p>  <p><strong>Logging additional properties</strong></p>  <p>When we logged the sender (which was a <strong>UIRoundedRectButton</strong>) it didn’t log the text of the button as we saw above.&#160; In order to facilitate getting the text out, we first need to cast the <strong>sender</strong> as a <strong>UIButton</strong>.&#160; Logging the <strong>UIButton</strong> as we did above leads to the same text being printed to the console.&#160; However, once the <strong>sender </strong>is cast, we can then access the necessary property to get the button text out:</p>  <p><script src="https://gist.github.com/4145909.js?file=tappedButtonTwo-1.m"></script></p>  <p>Now when we run and tap button two, we should see this text printed to the console:</p>  <blockquote>   <p>2012-11-25 16:19:30.736 DaySeventeen[12883:c07] Sender as button: &lt;UIRoundedRectButton: 0x7432a80; frame = (20 88; 280 44); opaque = NO; autoresize = TM+BM; layer = &lt;CALayer: 0x7432b50&gt;&gt;      <br />2012-11-25 16:19:30.737 DaySeventeen[12883:c07] Button text: Button 2</p> </blockquote>  <p>However, one of the most powerful uses of the <strong>Debug Console</strong> is printing out expressions on the fly.&#160; Let’s do this now to print out the same text property without requiring a log statement.</p>  <p><strong>Manually printing to the console</strong></p>  <p>In order to get to a place where we can manually interact with the console, we need to add a breakpoint.&#160; We’ll do that now in the <strong>tappedButtonTwo </strong>method.&#160; We have a few different options to do this.&#160; We can place the cursor on the line we want the breakpoint and then tap <strong>command + \</strong>.&#160; We can put the cursor on the line and go to <strong>Product</strong>, <strong>Debug</strong>, <strong>Add Breakpoint at Current Line</strong>.&#160; Finally, we can click the area to the left of the line of code (where it shows the line number).&#160; Whichever method is used, once you’ve added a breakpoint, you should see a blue tag to the left of the line of code:</p>  <p align="center"><img title="adding a breakpoint" alt="adding a breakpoint" src="http://storage.chrisrisner.com/images/31iosday17-added-breakpoint.jpg" /></p>  <p>Now, when you run the app and tap button two in the simulator, execution will be paused and you will be returned to Xcode paused at the line you placed the breakpoint on.&#160; When you are at the breakpoint, you can click and place the cursor in the <strong>Debug Console</strong> right where it says <strong>lldb</strong>:</p>  <p align="center"><img title="entering the debug console" alt="entering the debug console" src="http://storage.chrisrisner.com/images/31iosday17-entering-console.jpg" width="403" height="203" /></p>  <p>Once your cursor is in the console, you can type several things to get “on the fly” logging.&#160; Go ahead and type <strong>po button</strong> and hit enter in the console and you should see the following:</p>  <blockquote>   <p>(lldb) po button      <br />(UIButton *) $8 = 0x0713dab0 &lt;UIRoundedRectButton: 0x713dab0; frame = (20 88; 280 44); opaque = NO; autoresize = TM+BM; layer = &lt;CALayer: 0x713db80&gt;&gt;       <br />(lldb) </p> </blockquote>  <p><strong>po</strong>, short for <strong>print object</strong>, prints out a description of whatever object you pass in.&#160; However, we can also use <strong>po</strong> to print property information.&#160; Let’s continue to try to get the text of the button out by printing the <strong>titleLabel</strong> property of the <strong>button</strong>:</p>  <blockquote>   <p>(lldb) po button.titleLabel      <br />(UILabel *) $9 = 0x0713ecf0 &lt;UIButtonLabel: 0x713ecf0; frame = (109 12; 61 19); text = 'Button 2'; clipsToBounds = YES; opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x713dde0&gt;&gt;</p> </blockquote>  <p>Here, we get the description of a <strong>UIButtonLabel </strong>because the button actually has a label which is used to display the text on it.&#160; Much like printing the button, we get a lot of information that we might not need.&#160; However, this time we also get the <strong>text </strong>property.&#160; We could narrow this down even further by just printing the <strong>text </strong>property of the <strong>titleLabel</strong>:</p>  <blockquote>   <p>(lldb) po button.titleLabel.text      <br />(NSString *) $10 = 0x0713da20 Button 2</p> </blockquote>  <p>Note that we can also use the <strong>print</strong> command to print out similar information:</p>  <blockquote>   <p>(lldb) print button.titleLabel.text      <br />(NSString *) $11 = 0x0713da20 @&quot;Button 2&quot;</p> </blockquote>  <p><strong>Why is that important?</strong></p>  <p>As I mentioned earlier, Xcode doesn’t have very great support for viewing the status of a variable outside of the <strong>Debug Console</strong>.&#160; Let’s demonstrate this by using the same breakpoint above and then hovering over the <strong>button</strong> variable:</p>  <p align="center"><img title="Xcode variable hover" alt="Xcode variable hover" src="http://storage.chrisrisner.com/images/31iosday17-hover-variable.jpg" width="628" height="66" /></p>  <p>If we inspect the variables in the panel to the left of the console, we get a very similar lack of information:</p>  <p align="center"><img title="Xcode variable panel" alt="Xcode variable panel" src="http://storage.chrisrisner.com/images/31iosday17-variable-panel.jpg" /></p>  <p>So if you have a breakpoint in your code and need to get more information about a variable or an object, you can use the print statements in the console to print out information on the fly (without having to add a <strong>NSLog </strong>statement and restart your app) even though Xcode doesn’t show you very much information in the variable window.</p>  <p><strong>Dictionaries and arrays</strong></p>  <p>Let’s say we have an <strong>NSDictionary</strong> that we want to print out.&#160; We can use a <strong>NSLog </strong>statement like so:</p>  <p><script src="https://gist.github.com/4145909.js?file=tappedButtonThree-1.m"></script></p>  <p>However, we can print out the same information using a call to <strong>po</strong>:</p>  <blockquote>   <p>(lldb) po dictionary      <br />(NSMutableDictionary *) $4 = 0x07416e00 {       <br />&#160;&#160;&#160; 1 = value1;       <br />&#160;&#160;&#160; 2 = value2;       <br />&#160;&#160;&#160; 3 = value3;       <br />}       <br />(lldb) </p> </blockquote>  <p>However, if you try the <strong>print</strong> command here, it’s going to look a little different:</p>  <blockquote>   <p>(lldb) print dictionary      <br />(NSMutableDictionary *) $5 = 0x07416e00       <br />(lldb) </p> </blockquote>  <p>The difference is in how these two commands work.&#160; <strong>po</strong> prints a description property where as <strong>print</strong> actually prints the location or value of whatever you’re passing in.&#160; We’ll look at that in more detail right after we look at printing out <strong>NSArrays</strong>.&#160; If we add a <strong>NSArray</strong> and a <strong>NSLog</strong> statement for it:</p>  <p><script src="https://gist.github.com/4145909.js?file=tappedButtonThree-2.m"></script></p>  <p>We’ll get the same output as if we use <strong>po </strong>on the array:</p>  <blockquote>   <p>(lldb) po array      <br />(NSArray *) $3 = 0x0ea27940 &lt;__NSArrayI 0xea27940&gt;(       <br />item1,       <br />item2,       <br />item3       <br />)</p> </blockquote>  <p><strong>Logging custom objects</strong></p>  <p>The last thing we need to look at is how to handle logging your own custom objects.&#160; To do this, let’s add a new class to our project first.&#160; Go to <strong>File</strong>, <strong>New</strong>, <strong>File</strong> and choose <strong>Objective-C class</strong>.&#160; Let’s name the class <strong>CustomObject</strong> and make it <strong>Subclass NSObject</strong>.&#160; We’re just going to add a few properties to the <strong>CustomObject.h</strong> file:</p>  <p><script src="https://gist.github.com/4145909.js?file=CustomObject.h"></script></p>  <p>Now let’s go back to <strong>ViewController.m</strong> and use the <strong>CustomObject</strong> in the <strong>tappedButtonFour </strong>method (don’t forget to add an <strong>import</strong> statement for <strong>CustomObject.h</strong>):</p>  <p><script src="https://gist.github.com/4145909.js?file=tappedButtonFour.m"></script></p>  <p>Now if you run your app and tap button four, you might be saddened to see the output isn’t very informative:</p>  <blockquote>   <p>2012-11-25 17:08:38.359 DaySeventeen[13522:c07] CustomObject: &lt;CustomObject: 0x741d900&gt;</p> </blockquote>  <p>Now you could put a breakpoint and manually print out the variable values like this:</p>  <blockquote>   <p>(lldb) po customObject.name      <br />(NSString *) $1 = 0x00004860 my object name       <br />(lldb) po customObject.number       <br />(NSNumber *) $2 = 0x07674210 42       <br />(lldb) </p> </blockquote>  <p>But we don’t want to have to do that whenever we want information on the variable.&#160; Conversely, we could add <strong>NSLog </strong>statements for each variable or one statement with multiple placeholders, however, there is an easier way.&#160; When we use <strong>po</strong> we’re printing out the <strong>description </strong>property of a class.&#160; Let’s implement the <strong>description</strong> property for our custom object:</p>  <p><script src="https://gist.github.com/4145909.js?file=customObject.m"></script></p>  <p>Now, when we run our app and <strong>NSLog </strong>is called with our <strong>customObject</strong>, we get something much more informative:</p>  <blockquote>   <p>2012-11-25 17:13:49.844 DaySeventeen[13618:c07] CustomObject:      <br />Name: my object name       <br />Number: 42</p> </blockquote>  <p><strong>Conclusion</strong>:</p>  <p>Today we looked at how to make use of the <strong>Debug Console</strong>.&#160; There are two different ways we can take advantage of the console: with <strong>NSLog </strong>statements<strong> </strong>and manually using the <strong>po </strong>and <strong>print</strong> commands.&#160; The console is incredibly powerful and allows developers to get on the fly information out about what’s going on in their application.&#160; While this is going to be the primary usage of the console, you can see the other uses and abilities of the console by using the <strong>help </strong>command.&#160; You can <a title="iOS Day 17 Source Code" href="http://storage.chrisrisner.com/codesamples/iOSDaySeventeen.zip">access the finished source code from today here</a>.</p>