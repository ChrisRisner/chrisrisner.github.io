---
layout: post
title: "Updates to the Windows Azure iOS Toolkit"
date: Wed May 23 2012 10:03:00
commentsOn: true
status: publish
type: post
published: true
categories: [iOS, Programming, Apple, Azure, Mobile, Phone]
excerpt: "A brief summary of the latest updates to the Windows Azure iOS Toolkit including updated documentation and two new sample apps."
logoUrl: null
keywords: Windows Azure,Azure,iOS,Windows Azure iOS Toolkit,Windows Azure iOS,AppleDoc,XCode Documentation,Code Sense,Cloud,Mobile,Facebook,twitter
filepath: 2012-05-23-Updates-to-the-Windows-Azure-iOS-Toolkit.html
disqus_identifier: Updates-to-the-Windows-Azure-iOS-Toolkit
---
<p><img style="margin: 0px 0px 5px 5px; display: inline; float: right" title="Windows Azure on iOS" alt="Windows Azure on iOS" align="right" src="http://chrisrisner.com/upload/iOSImage3.png" width="178" height="334" />One of my first official duties when starting with <a title="Microsoft and Windows Azure" href="http://chrisrisner.com/Returning-from-Whence-I-Came!">Microsoft and Windows Azure</a> was to get familiar with the <a title="Windows Azure iOS Toolkit" href="https://github.com/WindowsAzure-Toolkits/wa-toolkit-ios">iOS</a> and <a title="Windows Azure Android Toolkit" href="https://github.com/WindowsAzure-Toolkits/wa-toolkit-android">Android</a> Toolkits.&#160; These toolkits make it easy to get up and running with connecting an iOS or Android application to a Windows Azure backend.&#160; Coupled with the <a title="Cloud Ready Packages" href="https://github.com/windowsazure-toolkits/wa-toolkit-cloudreadypackages">Cloud Ready Packages</a>, an iOS or Android developer can get a backend capable of storing data using blobs, tables, or queues as well as using <a title="Windows Azure Access Control Service" href="http://www.windowsazure.com/en-us/home/features/access-control/">Windows Azure’s Access Control Service</a> for user authentication and proxies.&#160; Setting up the backend just requires some configuration and doesn’t necessitate learning or knowing any .Net.&#160; I’ll talk more in the future about the Cloud Ready Packages and configuring them, but today, I’m going to focus on the <a title="Windows Azure iOS Toolkit" href="https://github.com/WindowsAzure-Toolkits/wa-toolkit-ios">Windows Azure iOS Toolkit</a>.</p>  <p>Late last week, we were able to push out some changes to the iOS Toolkit to both clean up some of the code as well as to showcase a few more sample programs.&#160; Before diving into some of the changes, I’d like to prop out <a title="Scott Densmore" href="http://scottdensmore.typepad.com/">Scott Densmore</a>.&#160; In Scott’s spare time, he made all of the changes and improvements I’ll go over today.&#160; If you feel like diving in and looking at the changes yourself, you can <a title="Merge to Master in GitHub" href="https://github.com/WindowsAzure-Toolkits/wa-toolkit-ios/commit/b69473d1790b25e2c330e45327b660db22f36138">check out the merge into the master branch in GitHub</a>.</p>  <p>The first change I’ll point out is the vast improvement in commenting of the code.&#160; The majority of the library code includes much better documentation now.&#160; In addition, the readme for the toolkit now includes instructions on running <a title="AppleDoc" href="https://github.com/tomaz/appledoc">AppleDoc</a> to generate Apple style documentation.&#160; Also, this will install the documentation into XCode so it will be readily available in Code Sense.</p>  <p><img title="XCode Code Sense" alt="XCode Code Sense" src="http://chrisrisner.com/upload/XCode-CodeSense.png" /></p>  <p>When running the MakeDocumentation.sh script (as described in the <a title="ReadMe for iOS Toolkit" href="https://github.com/WindowsAzure-Toolkits/wa-toolkit-ios/tree/develop">Readme</a>) there are two errors you may run into.&#160; The first is “Error: No developer directory found at /Developer.&#160; Run /usr/bin/xcode-select to update the developer directory path.”&#160; This can occur because as of <a title="XCode 4.3 Single App Bundle" href="https://developer.apple.com/library/ios/#documentation/DeveloperTools/Conceptual/WhatsNewXcode/Articles/xcode_4_3.html">4.3, XCode is distributed as a single app bundle</a>.&#160; This means that a /Developer directory is no longer generated.&#160; You can solve this problem by setting the developer directory to match where it’s installed at using this command in the terminal:</p>  <blockquote>   <p align="left">sudo xcode-select –switch /Application/Xcode.app/Contents/Developer</p> </blockquote>  <p>The second issue you may run into is seeing this at the end of the script running:</p>  <blockquote>   <p><b>** BUILD SUCCEEDED **       <br />Installing binary to /usr/local/bin/        <br />cp: directory /usr/local/bin does not exist</b></p> </blockquote>  <p>If you see this, you just need to generate this directory with the following command:</p>  <blockquote>   <p>sudo mkdir /usr/local/bin</p> </blockquote>  <p>After that, you should be able to rerun the script and generate the documentation without any issues.</p>  <p><img style="margin: 0px 0px 5px 5px; display: inline; float: right" title="Facebook Sample" alt="Facebook Sample" align="right" src="http://chrisrisner.com/upload/iOS-Facebook.jpg" />Moving on, there are two new sample apps you can look at.&#160; The <a title="Facebook Sample App" href="https://github.com/WindowsAzure-Toolkits/wa-toolkit-ios/tree/develop/samples/FacebookSample">first app connects to Facebook</a>.&#160; Now, once you’ve configured ACS and set Facebook to be one of your authentication providers, you can start seeing (and using it) in the normal samples app that uses ACS.&#160; However, this app doesn’t just allow you to authenticate to Facebook.&#160; After authenticating, it pulls out the Facebook auth token and user ID so it can call into the <a title="Facebook Graph API" href="https://developers.facebook.com/docs/reference/api/">Graph API</a> and pull out a list of the connected user’s friends.&#160; For this relatively simple app, it just gets a count of the friends and shows that count on the screen, however, once you’ve pulled out the Facebook token and the user ID, you can get access to any information you’ve requested (and been granted permission) to.&#160; The Facebook sample app does require that you’ve set up an ACS instance in Windows Azure and then drop in your ACS Namespace and ACS Realm into the FacebookSampleViewController.m file.&#160; The easiest way to get ACS set up is to go through one of the set up docs included in one of the <a title="Cloud Ready Packages" href="https://github.com/windowsazure-toolkits/wa-toolkit-cloudreadypackages">ACS Cloud Ready Packages</a>.</p>  <p>&#160;</p>  <p><a title="Tweet Your Blobs" href="https://github.com/WindowsAzure-Toolkits/wa-toolkit-ios/tree/develop/samples/TweetYourBlobs"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px 0px 5px 5px; padding-left: 0px; padding-right: 0px; display: inline; float: right; border-top: 0px; border-right: 0px; padding-top: 0px" title="Tweet Your Blobs" border="0" alt="Tweet Your Blobs" align="right" src="http://chrisrisner.com/upload/iOS-TweetYourBlobs.jpg" width="204" height="391" />TweetYourBlobs</a> is a more complex sample app that does a fair bit more.&#160; First, you don’t need to have ACS setup to use TweetYourBlobs as it will work with direct access to your storage account, a simple proxy service, or ACS.&#160; In addition, TYB makes use of storyboards so you’ll have to have at least XCode 4 in order to compile it.&#160; When you run it, you’ll enter some details for a container and blob name as well as take a picture (or pick one from the gallery if you’re running the simulator).&#160; Once all that is done, you can then hit the tweet button.&#160; You’ll be prompted to enter a <a title="BitLy" href="https://bitly.com/">bit.ly</a> username and API Key so the URL to your blob can be shortened (it ends up quite long and would use up too much tweet space).&#160; After that, there is a bit of logic that will either launch the local twitter app, tweet, or launch the twitter website depending on which version of iOS you’re rocking (remember iOS 5+ has very heavy <a title="Twitter" href="http://twitter.com">Twitter</a> integration).&#160; Just like the samples app, this app does require you to alter a few things in the Supporting Files/TweetYourBlobs-info.plist file (specifically the type of connection (direct / simple / ACS)), in addition to having a bit.ly and Twitter account.</p>  <p>&#160;</p>  <p>That’s all for the updates today.&#160; This is a lot of good stuff and will hopefully give iOS developers a better understanding of how to do a few more things with Windows Azure and iOS.&#160; I’ll have a lot more soon.&#160; If you’re playing around with the Windows Azure iOS Toolkit or have feedback or questions, I’d love to hear about it.&#160; </p>