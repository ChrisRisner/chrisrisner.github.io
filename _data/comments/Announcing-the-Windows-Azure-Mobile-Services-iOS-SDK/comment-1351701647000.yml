_id: e5356d14-9b38-4612-b3f1-400550728e6c
_parent: /Announcing-the-Windows-Azure-Mobile-Services-iOS-SDK
message: "<p>Hi Chris, I'm trying to modify the Quickstart tutorial to support iOS 6 ACAccounts. How does loginWithProvider withToken work? You mentioned it in the episode 92 video, but I can't get it to work with a facebook oauth code.  There's no description of what the dictionary \"token\" should contain. I have an ios 6 facebook account credential: self.facebookAccount.credential.oauthToken where faceAccount is an ACAccount. I know the oauth token is good - it works with the fb graph api. But how do I pass that to azure?  I tried the following, but I don't think it tries to make an actual connection - the completion handler is never called.</p><p>NSDictionary *token = [NSDictionary dictionaryWithObjectsAndKeys:<br>self.facebookAccount.credential.oauthToken, @\"access_token\",nil];<br>[self.todoService.client loginWithProvider:@\"facebook\" withToken:token<br>                         completion:^(MSUser *user, NSError *error)<br>{<br>                                                               if (error)<br>                                                               {<br>                                                                   NSLog(@\"Authentication Error: %@\", error);<br>}<br>                                                               else<br>                                                               {<br>                                                                   // No error, so load the data<br>                                                                   NSLog(@\"no error\");<br>                                                                   [self.todoService refreshDataOnSuccess:^{<br>                                                                       [self.tableView reloadData];<br>                                                                   }];<br>                                                               }<br>                                                           }];<br>thanks!</p>"
name: Dave Westwood
email: 2DE4611CA96BA08575FE8865256A223F
url: ''
replying_to: ''
hidden: ''
date: '2012-10-31T16:40:47Z'